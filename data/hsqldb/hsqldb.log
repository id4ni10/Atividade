/*C43*/SET SCHEMA PUBLIC
alter table cotacoes_produtos drop constraint FK23E169E695989467
alter table cotacoes_produtos drop constraint FK23E169E65760407
alter table pedidos_produtos drop constraint FK48DF97EB95989467
alter table pedidos_produtos drop constraint FK48DF97EB2482E0AD
drop table cotacoes if exists
drop table cotacoes_produtos if exists
drop table pedidos if exists
drop table pedidos_produtos if exists
drop table produtos if exists
create table cotacoes (id bigint generated by default as identity (start with 1), CPF varchar(255), data_solicitacao timestamp, solicitante varchar(255), primary key (id))
create table cotacoes_produtos (cotacao_id bigint not null, produto_id bigint not null, primary key (cotacao_id, produto_id))
create table pedidos (id bigint generated by default as identity (start with 1), cpf varchar(255), data_pedido timestamp, endereco varchar(255), solicitante varchar(255), total double not null, primary key (id))
create table pedidos_produtos (quantidade integer not null, valor double not null, produto_id bigint, pedido_id bigint, primary key (pedido_id, produto_id))
create table produtos (id bigint generated by default as identity (start with 1), descricao varchar(255), nome varchar(255), quantidade integer not null, valor double not null, primary key (id))
alter table cotacoes_produtos add constraint FK23E169E695989467 foreign key (produto_id) references produtos
alter table cotacoes_produtos add constraint FK23E169E65760407 foreign key (cotacao_id) references cotacoes
alter table pedidos_produtos add constraint FK48DF97EB95989467 foreign key (produto_id) references produtos
alter table pedidos_produtos add constraint FK48DF97EB2482E0AD foreign key (pedido_id) references pedidos
DISCONNECT
